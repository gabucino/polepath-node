(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[6],{1089:function(e,a,t){"use strict";t.r(a);var n=t(21),l=t(188),r=t(114),c=t(338),i=t(12),o=t(962),s=t(964),m=t(1),u=t(5),d=t(0),p=t.n(d),f=(t(2),t(3)),b=t(10),v=p.a.forwardRef((function(e,a){var t=e.disableSpacing,n=void 0!==t&&t,l=e.classes,r=e.className,c=Object(u.a)(e,["disableSpacing","classes","className"]);return p.a.createElement("div",Object(m.a)({className:Object(f.default)(l.root,r,!n&&l.spacing),ref:a},c))})),g=Object(b.a)({root:{display:"flex",alignItems:"center",padding:8},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiCardActions"})(v),h=["video","audio","picture","iframe","img"],x=p.a.forwardRef((function(e,a){var t=e.children,n=e.classes,l=e.className,r=e.component,c=void 0===r?"div":r,i=e.image,o=e.src,s=e.style,d=Object(u.a)(e,["children","classes","className","component","image","src","style"]),b=-1!==h.indexOf(c),v=!b&&i?Object(m.a)({backgroundImage:'url("'.concat(i,'")')},s):s;return p.a.createElement(c,Object(m.a)({className:Object(f.default)(n.root,l,b&&n.media,-1!=="picture img".indexOf(c)&&n.img),ref:a,style:v,src:b?i||o:void 0},d),t)})),E=Object(b.a)({root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%"},img:{objectFit:"cover"}},{name:"MuiCardMedia"})(x),j=t(959),O=t(888),y=t(939),N=t(901),w=t(942),k=t(904),S=t(902),C=t(944),I=t(48),M=t(963),R=t(181),A=t(9),D=t(24),T=t(13),_=t(133),L=t(989),P=t.n(L),B=t(943),z=t(991),V=t(992),F=t(983),W=t(95),U=t.n(W),q=t(183);function G(e){var a=Object(d.useState)(!1),t=Object(n.a)(a,2),l=t[0],r=t[1],c=Object(d.useState)(!0),i=Object(n.a)(c,2),s=i[0],m=i[1],u=Object(d.useRef)(null),f=Object(d.useState)(null),b=Object(n.a)(f,2),v=b[0],g=b[1],h=Object(d.useState)(""),x=Object(n.a)(h,2),E=x[0],j=x[1],O=Object(A.b)();return Object(d.useEffect)((function(){v&&("image/jpeg"!==v.type&&"image/jpg"!==v.type&&"image/png"!==v.type?(j("Image extension must be one of the following: jpg, jpeg, png"),m(!1)):(j(""),m(!0)))}),[v]),p.a.createElement(B.a,{open:e.open,onClose:e.close,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},p.a.createElement(F.a,{id:"alert-dialog-title"},"Add a new move"),p.a.createElement(V.a,null,p.a.createElement(U.a,{onValidSubmit:function(a){var t=new FormData;t.append("name",a.name),t.append("otherNames",a.otherNames?a.otherNames:""),t.append("level",a.level),t.append("description",a.description),t.append("image",v),O(T.l(t)),e.close()},onValid:function(){r(!0)},onInvalid:function(){r(!1)},ref:u,className:"flex flex-col justify-center p-16"},p.a.createElement(q.c,{className:"mb-16",type:"text",name:"name",label:"Name",required:!0,variant:"outlined"}),p.a.createElement(q.c,{className:"my-16",type:"text",name:"otherNames",label:"Other names",variant:"outlined"}),p.a.createElement(q.b,{className:"my-16",name:"level",label:"Difficulty",value:"",variant:"outlined",required:!0},p.a.createElement(w.a,{value:"Beginner"},"Beginner"),p.a.createElement(w.a,{value:"Intermediate"},"Intermediate"),p.a.createElement(w.a,{value:"Advanced"},"Advanced")),p.a.createElement(q.c,{className:"my-16",type:"text",multiline:!0,rows:"4",variant:"outlined",name:"description",label:"Description"}),E?p.a.createElement("p",{className:"text-red"}," ",E," "):"",p.a.createElement("label",{for:"file",className:"mb-8 text-grey-700 text-opacity-0"},"Upload main photo"),p.a.createElement("input",{type:"file",name:"file",onChange:function(e){g(e.target.files[0])}}),p.a.createElement(o.a,{type:"submit",variant:"contained",color:"primary",className:"mx-auto mt-32 mb-80","aria-label":"LOG IN",disabled:!l||!s},"Submit"))),p.a.createElement(z.a,null,p.a.createElement(o.a,{onClick:e.close,color:"primary",autoFocus:!0},"Cancel")))}var H=t(940),J=Object(C.a)((function(e){return{header:{background:"linear-gradient(to right, ".concat(e.palette.primary.dark," 0%, ").concat(e.palette.primary.main," 100%)"),color:e.palette.getContrastText(e.palette.primary.main)},headerIcon:{position:"absolute",top:-64,left:0,opacity:.04,fontSize:512,width:512,height:512,pointerEvents:"none"},card:{height:"350px",display:"flex",flexDirection:"column",cursor:"pointer"},cardMedia:{maxHeight:"230px",cursor:"pointer"},placeholder:{height:"230px",padding:"16px",display:"flex",justifyContent:"center",alignItems:"center"},trainingPlanIcon:{paddingRight:"4rem","&:hover":{opacity:.4}}}}));a.default=function(e){var a=Object(A.b)(),t=Object(A.c)((function(e){return e.moves.moves.data})),m=Object(A.c)((function(e){return e.moves.progress.data})),u=Object(A.c)((function(e){return e.moves.moves.levels})),b=Object(A.c)((function(e){return e.auth.user.role})),v=J(e),h=Object(I.a)(),x=Object(d.useState)(null),C=Object(n.a)(x,2),L=C[0],B=C[1],z=Object(d.useState)(""),V=Object(n.a)(z,2),F=V[0],W=V[1],U=Object(d.useState)("all"),q=Object(n.a)(U,2),Y=q[0],K=q[1],Q=Object(d.useState)(!0),X=Object(n.a)(Q,2),Z=X[0],$=X[1],ee=Object(d.useState)(!1),ae=Object(n.a)(ee,2),te=ae[0],ne=ae[1],le=Object(d.useState)(null),re=Object(n.a)(le,2),ce=re[0],ie=re[1],oe=Object(d.useRef)(!1);Object(d.useEffect)((function(){t&&$(!1)}),[a,t]),Object(d.useEffect)((function(){t&&B(0===F.length&&"all"===Y?(oe.current=!0,t):i.a.filter(t,(function(e){return("all"===Y||e.level===Y)&&e.name.toLowerCase().includes(F.toLowerCase())})))}),[t,F,Y]);var se=function(e){a(T.B(e)),r.a.push("/moves/polemoves/".concat(e._id))};return p.a.createElement("div",{className:"flex flex-col flex-auto flex-shrink-0 w-full"},p.a.createElement("div",{className:Object(f.default)(v.header,"relative overflow-hidden flex flex-col flex-shrink-0 items-center justify-center text-center p-16 sm:p-24 h-200 sm:h-288")},p.a.createElement(l.a,{animation:"transition.slideUpIn",duration:400,delay:100},p.a.createElement(R.a,{color:"inherit",className:"text-24 sm:text-40 font-light"},"MOVES")),p.a.createElement(l.a,{duration:400,delay:600},p.a.createElement(R.a,{variant:"subtitle1",color:"inherit",className:"mt-8 sm:mt-16 mx-auto max-w-512"},p.a.createElement("span",{className:"opacity-75"},"Wander around, explore, learn, connect and inspire.")))),p.a.createElement("div",{className:"flex flex-col flex-1 max-w-2xl w-full mx-auto px-8 sm:px-16 py-24"},p.a.createElement("div",{className:"flex flex-col flex-shrink-0 sm:flex-row items-center justify-between py-16"},p.a.createElement(M.a,{label:"Search for a move",placeholder:"Enter a keyword...",className:"flex w-full sm:w-320 mb-16 sm:mb-0 mx-16",value:F,inputProps:{"aria-label":"Search"},onChange:function(e){W(e.target.value)},variant:"outlined",InputLabelProps:{shrink:!0}}),p.a.createElement(O.a,{className:"flex w-full sm:w-320 mx-16",variant:"outlined"},p.a.createElement(N.a,{htmlFor:"level-label-placeholder"},"Level "),p.a.createElement(S.a,{value:Y,onChange:function(e){K(e.target.value)},input:p.a.createElement(k.a,{labelWidth:9*"level".length,name:"level",id:"level-label-placeholder"})},p.a.createElement(w.a,{value:"all"},p.a.createElement("em",null," All ")),u.map((function(e){return p.a.createElement(w.a,{value:e.label,key:e.id},e.label)}))))),Z?p.a.createElement(_.a,null):"","admin"===b&&p.a.createElement("div",{className:"w-full ml-8 flex justify-start"},p.a.createElement(o.a,{color:"primary",startIcon:p.a.createElement(P.a,null),onClick:function(){ne(!0)}},"ADD NEW MOVE")),L&&(L.length>0?p.a.createElement(c.a,{enter:{animation:"transition.slideUpBigIn"},className:"flex flex-wrap py-16"},L.map((function(e){var a=u.find((function(a){return a.label===e.level})),t=m.find((function(a){return a.moveRef===e._id})),n="ONE DAY";return t&&(n=t.mastered?"MASTERED":"IN PROGRESS"),p.a.createElement("div",{className:"w-full pb-24 sm:w-1/2 lg:w-1/3 sm:p-16",key:e._id},p.a.createElement(s.a,{elevation:1,className:v.card},p.a.createElement("div",{className:"flex flex-shrink-0 items-center p-0 justify-between h-64",style:{background:a.color,color:h.palette.getContrastText(a.color)}},p.a.createElement("div",{className:"flex flex-grow pl-24 h-full items-center",onClick:function(){return se(e)}},p.a.createElement(R.a,{className:"font-medium truncate",color:"inherit"},e.name)),p.a.createElement(y.a,{onClick:function(e){return ie(e.currentTarget)},className:v.trainingPlanIcon},"local_florist")),e.extension?p.a.createElement(E,{onClick:function(){return se(e)},className:v.cardMedia,component:"img",alt:e.name,height:"230",src:"https://polepath.b-cdn.net/mainphotos/".concat(e._id,".").concat(e.extension),title:e.name}):p.a.createElement("div",{onClick:function(){return se(e)},className:Object(f.default)("p-16",v.placeholder)}," ",p.a.createElement(R.a,{variant:"body1"},"This move doesn't have a photo :(")),p.a.createElement(j.a,null),p.a.createElement(g,{onClick:function(){return se(e)},className:"justify-between"},p.a.createElement(o.a,{to:"/moves/polemoves/".concat(e._id),component:D.a,className:"justify-center items-center px-16 w-full",color:"primary"}," ",n))))}))):F?p.a.createElement("div",{className:"flex flex-1 items-center justify-center"},p.a.createElement(R.a,{color:"textSecondary",className:"text-24 my-24"},"No moves found :(")):"")),te&&p.a.createElement(G,{open:te,close:function(){return ne(!1)}}),ce&&p.a.createElement(H.a,{classes:{paper:"py-8 pr-16 cursor-pointer underline"},open:Boolean(ce),anchorEl:ce,onClose:function(){return ie(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},p.a.createElement(P.a,{className:"ml-8 p-4"})," Add to training plan"))}},983:function(e,a,t){"use strict";var n=t(1),l=t(5),r=t(0),c=t.n(r),i=(t(2),t(3)),o=t(10),s=t(181),m=c.a.forwardRef((function(e,a){var t=e.children,r=e.classes,o=e.className,m=e.disableTypography,u=void 0!==m&&m,d=Object(l.a)(e,["children","classes","className","disableTypography"]);return c.a.createElement("div",Object(n.a)({className:Object(i.default)(r.root,o),ref:a},d),u?t:c.a.createElement(s.a,{component:"h2",variant:"h6"},t))}));a.a=Object(o.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(m)},989:function(e,a,t){"use strict";var n=t(261);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(t(0)),r=(0,n(t(332)).default)(l.default.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");a.default=r},991:function(e,a,t){"use strict";var n=t(1),l=t(5),r=t(0),c=t.n(r),i=(t(2),t(3)),o=t(10),s=c.a.forwardRef((function(e,a){var t=e.disableSpacing,r=void 0!==t&&t,o=e.classes,s=e.className,m=Object(l.a)(e,["disableSpacing","classes","className"]);return c.a.createElement("div",Object(n.a)({className:Object(i.default)(o.root,s,!r&&o.spacing),ref:a},m))}));a.a=Object(o.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(s)},992:function(e,a,t){"use strict";var n=t(1),l=t(5),r=t(0),c=t.n(r),i=(t(2),t(3)),o=t(10),s=c.a.forwardRef((function(e,a){var t=e.classes,r=e.className,o=e.dividers,s=void 0!==o&&o,m=Object(l.a)(e,["classes","className","dividers"]);return c.a.createElement("div",Object(n.a)({className:Object(i.default)(t.root,r,s&&t.dividers),ref:a},m))}));a.a=Object(o.a)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(s)}}]);